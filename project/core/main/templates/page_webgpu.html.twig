{% extends 'base.html.twig' %}

{% block meta %}
    {# register new webgpu token at https://developer.chrome.com/origintrials/#/trials/active #}
    <meta http-equiv="origin-trial" content="{{ app.request.server.get("CHROME_WEBGPU_KEY") }}"/>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('webgpu') }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('webgpu') }}
{% endblock %}

{% block body %}
    <div>
        <h1>WebGPU</h1>

        <div>Agent: <span id="agent"></span></div>
        <div>GPU: <span id="gpu-model"></span></div>
        <div>GPU: <span id="gpu"></span></div>
        <div>CPU: <span id="cpu"></span></div>
        <div>Used heap memory: <span id="heap-memory">not available</span></div>
        <div>Vertex: <span id="scene-vertex"></span></div>
        <div>Triangles: <span id="scene-triangles"></span></div>
        <div>FPS: <span id="fps"></span></div>
        <canvas id="webgpu-canvas" width="640" height="480"></canvas>
    </div>
{% endblock %}